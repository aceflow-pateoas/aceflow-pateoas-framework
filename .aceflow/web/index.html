<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AceFlow v2.0 - AIÈ©±Âä®ÁöÑÊïèÊç∑ÂºÄÂèëÂ∑•‰ΩúÊµÅ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
        }

        .card h3 .icon {
            margin-right: 8px;
            font-size: 1.2em;
        }

        .project-info {
            grid-column: 1 / -1;
        }

        .project-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .status-item {
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .status-item h4 {
            color: #2d3748;
            margin-bottom: 5px;
        }

        .status-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .flow-modes {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .mode-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mode-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .mode-card.active {
            border-color: #667eea;
            background: #eef2ff;
        }

        .mode-title {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .mode-desc {
            font-size: 0.9em;
            color: #718096;
        }

        .stages-flow {
            margin: 20px 0;
        }

        .stages-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 15px 0;
        }

        .stage {
            flex: 1;
            max-width: 120px;
            text-align: center;
            position: relative;
        }

        .stage-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 1.1em;
        }

        .stage-circle.completed {
            background: #48bb78;
        }

        .stage-circle.in-progress {
            background: #ed8936;
        }

        .stage-circle.pending {
            background: #a0aec0;
        }

        .stage-name {
            font-size: 0.9em;
            color: #4a5568;
            font-weight: 500;
        }

        .stage-arrow {
            color: #a0aec0;
            font-size: 1.5em;
            margin: 0 10px;
        }

        .actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .ai-suggestions {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border: none;
        }

        .suggestions-list {
            list-style: none;
            margin-top: 15px;
        }

        .suggestions-list li {
            background: rgba(255, 255, 255, 0.7);
            margin: 8px 0;
            padding: 10px;
            border-radius: 6px;
            border-left: 4px solid #f6ad55;
        }

        .memory-pool {
            background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%);
            border: none;
        }

        .memory-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .memory-item {
            background: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 6px;
            text-align: center;
        }

        .memory-count {
            font-size: 1.5em;
            font-weight: bold;
            color: #805ad5;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .flow-modes {
                grid-template-columns: 1fr;
            }
            
            .stages-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .stage-arrow {
                transform: rotate(90deg);
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üöÄ AceFlow v2.0</h1>
            <p>AIÈ©±Âä®ÁöÑÊïèÊç∑ÂºÄÂèëÂ∑•‰ΩúÊµÅÊ°ÜÊû∂</p>
        </header>

        <div class="dashboard">
            <!-- È°πÁõÆÊ¶ÇËßà -->
            <div class="card project-info">
                <h3><span class="icon">üìÅ</span>È°πÁõÆÊ¶ÇËßà</h3>
                <div class="project-status">
                    <div class="status-item">
                        <h4>È°πÁõÆÂêçÁß∞</h4>
                        <div class="status-value" id="project-name">aceflow-pateoas-framework</div>
                    </div>
                    <div class="status-item">
                        <h4>ÊµÅÁ®ãÊ®°Âºè</h4>
                        <div class="status-value" id="flow-mode">ËΩªÈáèÁ∫ß</div>
                    </div>
                    <div class="status-item">
                        <h4>ÂΩìÂâçÈò∂ÊÆµ</h4>
                        <div class="status-value" id="current-stage">Êú™ÂºÄÂßã</div>
                    </div>
                    <div class="status-item">
                        <h4>Êï¥‰ΩìËøõÂ∫¶</h4>
                        <div class="status-value" id="overall-progress">0%</div>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <!-- ÊµÅÁ®ãÊ®°ÂºèÈÄâÊã© -->
            <div class="card">
                <h3><span class="icon">‚öôÔ∏è</span>ÊµÅÁ®ãÊ®°Âºè</h3>
                <div class="flow-modes">
                    <div class="mode-card active" data-mode="minimal">
                        <div class="mode-title">ËΩªÈáèÁ∫ß</div>
                        <div class="mode-desc">P‚ÜíD‚ÜíR<br>2-7Â§©</div>
                    </div>
                    <div class="mode-card" data-mode="standard">
                        <div class="mode-title">Ê†áÂáÜ</div>
                        <div class="mode-desc">P1‚ÜíP2‚ÜíD1‚ÜíD2‚ÜíR1<br>1-2Âë®</div>
                    </div>
                    <div class="mode-card" data-mode="complete">
                        <div class="mode-title">ÂÆåÊï¥</div>
                        <div class="mode-desc">S1‚Üí...‚ÜíS8<br>2-4Âë®</div>
                    </div>
                </div>
                <div class="actions">
                    <button class="btn btn-primary" onclick="switchMode()">
                        <span>üîÑ</span>ÂàáÊç¢Ê®°Âºè
                    </button>
                </div>
            </div>

            <!-- Èò∂ÊÆµÊµÅÁ®ã -->
            <div class="card">
                <h3><span class="icon">üéØ</span>Èò∂ÊÆµÊµÅÁ®ã</h3>
                <div class="stages-flow">
                    <div class="stages-container" id="stages-container">
                        <!-- Âä®ÊÄÅÁîüÊàêÈò∂ÊÆµ -->
                    </div>
                </div>
                <div class="actions">
                    <button class="btn btn-primary" onclick="startStage()">
                        <span>üöÄ</span>ÂºÄÂßãÈò∂ÊÆµ
                    </button>
                    <button class="btn btn-secondary" onclick="updateProgress()">
                        <span>üìà</span>Êõ¥Êñ∞ËøõÂ∫¶
                    </button>
                    <button class="btn btn-secondary" onclick="completeStage()">
                        <span>‚úÖ</span>ÂÆåÊàêÈò∂ÊÆµ
                    </button>
                </div>
            </div>

            <!-- AIÂª∫ËÆÆ -->
            <div class="card ai-suggestions">
                <h3><span class="icon">ü§ñ</span>AIÊô∫ËÉΩÂª∫ËÆÆ</h3>
                <ul class="suggestions-list" id="ai-suggestions">
                    <li>üí° Êé®Ëçê‰ΩøÁî®ËΩªÈáèÁ∫ßÊ®°ÂºèÔºåÈÄÇÂêàÂΩìÂâçÈ°πÁõÆËßÑÊ®°</li>
                    <li>üéØ Âª∫ËÆÆ‰ªéËßÑÂàíÈò∂ÊÆµÂºÄÂßãÔºåÊòéÁ°ÆÊ†∏ÂøÉÈúÄÊ±Ç</li>
                    <li>‚ö° ÂèØ‰ª•ÂêØÁî®ÊïèÊç∑ÈõÜÊàêÔºåÊèêÂçáÂõ¢ÈòüÂçè‰ΩúÊïàÁéá</li>
                </ul>
                <div class="actions">
                    <button class="btn btn-primary" onclick="getAIAdvice()">
                        <span>üß†</span>Ëé∑ÂèñÂª∫ËÆÆ
                    </button>
                </div>
            </div>

            <!-- ËÆ∞ÂøÜ‰∏≠ÂøÉ -->
            <div class="card memory-pool">
                <h3><span class="icon">üß†</span>ËÆ∞ÂøÜ‰∏≠ÂøÉ</h3>
                <div class="memory-items">
                    <div class="memory-item">
                        <div class="memory-count">0</div>
                        <div>ÈúÄÊ±ÇËÆ∞ÂøÜ</div>
                    </div>
                    <div class="memory-item">
                        <div class="memory-count">0</div>
                        <div>ÊäÄÊúØÂÜ≥Á≠ñ</div>
                    </div>
                    <div class="memory-item">
                        <div class="memory-count">0</div>
                        <div>ÈóÆÈ¢òËÆ∞ÂΩï</div>
                    </div>
                    <div class="memory-item">
                        <div class="memory-count">0</div>
                        <div>Áî®Êà∑ÂèçÈ¶à</div>
                    </div>
                </div>
                <div class="actions">
                    <button class="btn btn-primary" onclick="openMemoryCenter()">
                        <span>üîç</span>ÊµèËßàËÆ∞ÂøÜ
                    </button>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>AceFlow v2.0 - ËÆ©AIËµãËÉΩ‰Ω†ÁöÑÊïèÊç∑ÂºÄÂèëÊµÅÁ®ã üéâ</p>
        </footer>
    </div>

    <script>
        // ÊµÅÁ®ãÊ®°ÂºèÈÖçÁΩÆ
        const flowModes = {
            minimal: {
                name: 'ËΩªÈáèÁ∫ß',
                stages: ['P', 'D', 'R'],
                stageNames: { P: 'ËßÑÂàí', D: 'ÂºÄÂèë', R: 'ËØÑÂÆ°' }
            },
            standard: {
                name: 'Ê†áÂáÜ',
                stages: ['P1', 'P2', 'D1', 'D2', 'R1'],
                stageNames: { P1: 'ÈúÄÊ±Ç', P2: 'ËßÑÂàí', D1: 'ÂÆûÁé∞', D2: 'ÊµãËØï', R1: 'ËØÑÂÆ°' }
            },
            complete: {
                name: 'ÂÆåÊï¥',
                stages: ['S1', 'S2', 'S3', 'S4', 'S5', 'S6', 'S7', 'S8'],
                stageNames: { 
                    S1: 'Áî®Êà∑ÊïÖ‰∫ã', S2: '‰ªªÂä°ÊãÜÂàÜ', S3: 'ÊµãËØïÁî®‰æã', S4: 'ÂäüËÉΩÂÆûÁé∞',
                    S5: 'ÊµãËØïÊâßË°å', S6: '‰ª£Á†ÅËØÑÂÆ°', S7: 'ÊºîÁ§∫ÂèçÈ¶à', S8: 'ÊÄªÁªìÂΩíÊ°£'
                }
            }
        };

        let currentMode = 'minimal';
        let currentStage = null;
        let stageStates = {};

        // ÂàùÂßãÂåñÈ°µÈù¢
        function init() {
            loadProjectState();
            updateModeSelection();
            renderStages();
        }

        // Âä†ËΩΩÈ°πÁõÆÁä∂ÊÄÅ
        function loadProjectState() {
            // ËøôÈáåÂ∫îËØ•‰ªéÂêéÁ´ØAPIÂä†ËΩΩÁä∂ÊÄÅ
            // ÊöÇÊó∂‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ
            const mockState = {
                project_name: 'aceflow-pateoas-framework',
                flow_mode: 'minimal',
                current_stage: null,
                overall_progress: 0,
                stage_states: {}
            };

            document.getElementById('project-name').textContent = mockState.project_name;
            document.getElementById('flow-mode').textContent = flowModes[mockState.flow_mode].name;
            document.getElementById('current-stage').textContent = mockState.current_stage || 'Êú™ÂºÄÂßã';
            document.getElementById('overall-progress').textContent = mockState.overall_progress + '%';
            document.getElementById('progress-fill').style.width = mockState.overall_progress + '%';

            currentMode = mockState.flow_mode;
            currentStage = mockState.current_stage;
            stageStates = mockState.stage_states;
        }

        // Êõ¥Êñ∞Ê®°ÂºèÈÄâÊã©
        function updateModeSelection() {
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('active');
                if (card.dataset.mode === currentMode) {
                    card.classList.add('active');
                }
            });
        }

        // Ê∏≤ÊüìÈò∂ÊÆµÊµÅÁ®ã
        function renderStages() {
            const container = document.getElementById('stages-container');
            const mode = flowModes[currentMode];
            
            container.innerHTML = '';
            
            mode.stages.forEach((stage, index) => {
                // Èò∂ÊÆµÂúÜÂúà
                const stageDiv = document.createElement('div');
                stageDiv.className = 'stage';
                
                const circle = document.createElement('div');
                circle.className = 'stage-circle';
                
                // Á°ÆÂÆöÈò∂ÊÆµÁä∂ÊÄÅ
                let status = 'pending';
                if (stageStates[stage]) {
                    status = stageStates[stage].status;
                } else if (stage === currentStage) {
                    status = 'in-progress';
                }
                
                circle.classList.add(status);
                circle.textContent = stage;
                
                const name = document.createElement('div');
                name.className = 'stage-name';
                name.textContent = mode.stageNames[stage];
                
                stageDiv.appendChild(circle);
                stageDiv.appendChild(name);
                container.appendChild(stageDiv);
                
                // Ê∑ªÂä†ÁÆ≠Â§¥ÔºàÈô§‰∫ÜÊúÄÂêé‰∏Ä‰∏™Èò∂ÊÆµÔºâ
                if (index < mode.stages.length - 1) {
                    const arrow = document.createElement('div');
                    arrow.className = 'stage-arrow';
                    arrow.textContent = '‚Üí';
                    container.appendChild(arrow);
                }
            });
        }

        // Ê®°ÂºèÂç°ÁâáÁÇπÂáª‰∫ã‰ª∂
        document.querySelectorAll('.mode-card').forEach(card => {
            card.addEventListener('click', () => {
                currentMode = card.dataset.mode;
                updateModeSelection();
                renderStages();
                document.getElementById('flow-mode').textContent = flowModes[currentMode].name;
            });
        });

        // ÂàáÊç¢Ê®°Âºè
        function switchMode() {
            alert('Ê®°ÂºèÂàáÊç¢ÂäüËÉΩÂºÄÂèë‰∏≠...\nÂ∞ÜÊîØÊåÅÊô∫ËÉΩÊï∞ÊçÆËøÅÁßªÂíåËøõÂ∫¶‰øùÁïô');
        }

        // ÂºÄÂßãÈò∂ÊÆµ
        function startStage() {
            if (!currentStage) {
                const firstStage = flowModes[currentMode].stages[0];
                currentStage = firstStage;
                stageStates[firstStage] = { status: 'in-progress', progress: 0 };
                
                document.getElementById('current-stage').textContent = currentStage;
                renderStages();
                
                alert(`üöÄ Â∑≤ÂºÄÂßãÈò∂ÊÆµ: ${currentStage} - ${flowModes[currentMode].stageNames[currentStage]}`);
            } else {
                alert(`ÂΩìÂâçÂ∑≤ÊúâÊ¥ªË∑ÉÈò∂ÊÆµ: ${currentStage}`);
            }
        }

        // Êõ¥Êñ∞ËøõÂ∫¶
        function updateProgress() {
            if (!currentStage) {
                alert('‚ùå Ê≤°ÊúâÊ¥ªË∑ÉÁöÑÈò∂ÊÆµ');
                return;
            }
            
            const progress = prompt('ËØ∑ËæìÂÖ•ÂΩìÂâçÈò∂ÊÆµËøõÂ∫¶ (0-100):', '50');
            if (progress !== null && !isNaN(progress)) {
                const progressNum = Math.max(0, Math.min(100, parseInt(progress)));
                stageStates[currentStage].progress = progressNum;
                
                // Êõ¥Êñ∞Êï¥‰ΩìËøõÂ∫¶
                updateOverallProgress();
                
                alert(`üìà Èò∂ÊÆµ ${currentStage} ËøõÂ∫¶Êõ¥Êñ∞‰∏∫ ${progressNum}%`);
            }
        }

        // ÂÆåÊàêÈò∂ÊÆµ
        function completeStage() {
            if (!currentStage) {
                alert('‚ùå Ê≤°ÊúâÊ¥ªË∑ÉÁöÑÈò∂ÊÆµ');
                return;
            }
            
            stageStates[currentStage].status = 'completed';
            stageStates[currentStage].progress = 100;
            
            // ÂàáÊç¢Âà∞‰∏ã‰∏ÄÈò∂ÊÆµ
            const stages = flowModes[currentMode].stages;
            const currentIndex = stages.indexOf(currentStage);
            
            if (currentIndex < stages.length - 1) {
                const nextStage = stages[currentIndex + 1];
                currentStage = nextStage;
                stageStates[nextStage] = { status: 'in-progress', progress: 0 };
                
                document.getElementById('current-stage').textContent = currentStage;
                alert(`üéâ Èò∂ÊÆµÂÆåÊàêÔºÅËá™Âä®ÂàáÊç¢Âà∞‰∏ã‰∏ÄÈò∂ÊÆµ: ${nextStage}`);
            } else {
                currentStage = null;
                document.getElementById('current-stage').textContent = 'Â∑≤ÂÆåÊàê';
                alert('üéä ÊâÄÊúâÈò∂ÊÆµÂ∑≤ÂÆåÊàêÔºÅ');
            }
            
            updateOverallProgress();
            renderStages();
        }

        // Êõ¥Êñ∞Êï¥‰ΩìËøõÂ∫¶
        function updateOverallProgress() {
            const stages = flowModes[currentMode].stages;
            let totalProgress = 0;
            
            stages.forEach(stage => {
                if (stageStates[stage]) {
                    totalProgress += stageStates[stage].progress || 0;
                }
            });
            
            const overallProgress = Math.round(totalProgress / stages.length);
            document.getElementById('overall-progress').textContent = overallProgress + '%';
            document.getElementById('progress-fill').style.width = overallProgress + '%';
        }

        // Ëé∑ÂèñAIÂª∫ËÆÆ
        function getAIAdvice() {
            const suggestions = [
                'üí° ÂΩìÂâçÈò∂ÊÆµÂª∫ËÆÆÔºö‰∏ìÊ≥®Ê†∏ÂøÉÂäüËÉΩÂÆûÁé∞ÔºåÈÅøÂÖçËøáÂ∫¶ËÆæËÆ°',
                '‚ö° ÊÄßËÉΩ‰ºòÂåñÔºöÂª∫ËÆÆÂú®ÂºÄÂèëÈò∂ÊÆµÂêåÊ≠•ËøõË°åÂçïÂÖÉÊµãËØï',
                'üéØ Áî®Êà∑‰ΩìÈ™åÔºöÂª∫ËÆÆÊ∑ªÂä†Áî®Êà∑ÂèçÈ¶àÊî∂ÈõÜÊú∫Âà∂',
                'üîß ÊäÄÊúØÂÄ∫Âä°ÔºöÊ£ÄÊµãÂà∞ÈÉ®ÂàÜ‰ª£Á†ÅÂèØ‰ª•ÈáçÊûÑ‰ºòÂåñ',
                'üìà ËøõÂ∫¶ÁÆ°ÁêÜÔºöÂΩìÂâçËøõÂ∫¶ËâØÂ•ΩÔºåÂª∫ËÆÆ‰øùÊåÅÂºÄÂèëËäÇÂ•è'
            ];
            
            const randomSuggestion = suggestions[Math.floor(Math.random() * suggestions.length)];
            
            const suggestionsList = document.getElementById('ai-suggestions');
            const newSuggestion = document.createElement('li');
            newSuggestion.textContent = randomSuggestion;
            suggestionsList.appendChild(newSuggestion);
            
            // ‰øùÊåÅÊúÄÂ§ö5Êù°Âª∫ËÆÆ
            if (suggestionsList.children.length > 5) {
                suggestionsList.removeChild(suggestionsList.firstChild);
            }
        }

        // ÊâìÂºÄËÆ∞ÂøÜ‰∏≠ÂøÉ
        function openMemoryCenter() {
            alert('üìö ËÆ∞ÂøÜ‰∏≠ÂøÉÂäüËÉΩÂºÄÂèë‰∏≠...\nÂ∞ÜÊîØÊåÅÊô∫ËÉΩÁü•ËØÜÊ£ÄÁ¥¢ÂíåÈ°πÁõÆÁªèÈ™åÁßØÁ¥Ø');
        }

        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>